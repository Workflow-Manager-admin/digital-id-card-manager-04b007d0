{"is_source_file": true, "format": "Python", "description": "This file provides authentication utilities for a Flask-based web application, including JWT encoding/decoding and a decorator for role-based access control.", "external_files": ["./db"], "external_methods": ["jwt.encode", "jwt.decode"], "published": ["encode_auth_token", "decode_auth_token", "jwt_required"], "classes": [], "methods": [{"name": "encode_auth_token(user_id, user_role, expires_in=3600)", "description": "Generates a JWT token with user ID and role, with an optional expiry time.", "scope": "", "scopeKind": ""}, {"name": "decode_auth_token(token)", "description": "Decodes a JWT token and returns payload; returns None if invalid or expired.", "scope": "", "scopeKind": ""}, {"name": "jwt_required(roles=None)", "description": "Decorator to protect Flask endpoints, enforcing authentication and optional role restrictions.", "scope": "", "scopeKind": ""}, {"name": "decorator(f)", "scope": "jwt_required", "scopeKind": "function", "description": "unavailable"}, {"name": "wrapper(*args, **kwargs)", "scope": "jwt_required.decorator", "scopeKind": "function", "description": "unavailable"}], "calls": ["jwt.encode", "jwt.decode", "request.headers.get", "jsonify"], "search-terms": ["JWT", "flask auth", "role-based access", "auth decorator", "auth token"], "state": 2, "file_id": 16, "knowledge_revision": 32, "git_revision": "", "ctags": [{"_type": "tag", "name": "SECRET_KEY", "path": "/home/kavia/workspace/code-generation/digital-id-card-manager-04b007d0/id_backend_api/app/auth.py", "pattern": "/^SECRET_KEY = os.getenv(\"SECRET_KEY\", \"changeme\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "decode_auth_token", "path": "/home/kavia/workspace/code-generation/digital-id-card-manager-04b007d0/id_backend_api/app/auth.py", "pattern": "/^def decode_auth_token(token):$/", "language": "Python", "kind": "function", "signature": "(token)"}, {"_type": "tag", "name": "decorator", "path": "/home/kavia/workspace/code-generation/digital-id-card-manager-04b007d0/id_backend_api/app/auth.py", "pattern": "/^    def decorator(f):$/", "file": true, "language": "Python", "kind": "function", "signature": "(f)", "scope": "jwt_required", "scopeKind": "function"}, {"_type": "tag", "name": "encode_auth_token", "path": "/home/kavia/workspace/code-generation/digital-id-card-manager-04b007d0/id_backend_api/app/auth.py", "pattern": "/^def encode_auth_token(user_id, user_role, expires_in=3600):$/", "language": "Python", "kind": "function", "signature": "(user_id, user_role, expires_in=3600)"}, {"_type": "tag", "name": "jwt_required", "path": "/home/kavia/workspace/code-generation/digital-id-card-manager-04b007d0/id_backend_api/app/auth.py", "pattern": "/^def jwt_required(roles=None):$/", "language": "Python", "kind": "function", "signature": "(roles=None)"}, {"_type": "tag", "name": "wrapper", "path": "/home/kavia/workspace/code-generation/digital-id-card-manager-04b007d0/id_backend_api/app/auth.py", "pattern": "/^        def wrapper(*args, **kwargs):$/", "file": true, "language": "Python", "kind": "function", "signature": "(*args, **kwargs)", "scope": "jwt_required.decorator", "scopeKind": "function"}], "hash": "6f86a18d99e073f91765e90e33fec8d1", "format-version": 4, "code-base-name": "id_backend_api", "filename": "id_backend_api/app/auth.py", "fields": [{"name": "SECRET_KEY = os.getenv(\"SECRET_KEY\", \"changeme\")", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"32": ""}]}